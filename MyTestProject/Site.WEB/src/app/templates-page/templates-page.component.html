<form #f="ngForm" (ngSubmit)="f.vaild && initTransaction()" novalidate>
    <div class="bigDataBlock">
        <h1>Send ether</h1>
        <div class="row">
            <div class="col-xs-6">
                <p class="boldLables text-right">Sender address(account):</p>
            </div>
            <div class="col-xs-6">
                <input type="text" name="sender" minlength="4" maxlength="50" placeholder="Account" [(ngModel)]="transaction.sender" #sender="ngModel" required />

                <div class="md-errors-spacer" *ngIf="sender.invalid && (sender.touched || f.submited)">
                    <small class="md-errors-spacer" *ngIf="sender.errors.required">
                        Sender address is required.
                    </small>
                    <div class="md-errors-spacer" *ngIf="sender.errors.minlength">
                        Sender address is min. 4 char. long!.
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-6">
                <p class="boldLables text-right">Receiver address(account):</p>
            </div>
            <div class="col-xs-6">
                <input type="text" name="receiver" minlength="4" maxlength="50" placeholder="Receiver" [(ngModel)]="transaction.receiver" #receiver="ngModel" required />

                <div class="md-errors-spacer" *ngIf="receiver.invalid && (receiver.touched || f.submited)">
                    <small class="md-errors-spacer" *ngIf="receiver.errors.required">
                        Receiver address is required.
                    </small>
                    <div class="md-errors-spacer" *ngIf="receiver.errors.minlength">
                        Receiver address is min. 4 char. long!.
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-6">
                <p class="boldLables text-right">Amount of ether (not 0):</p>
            </div>
            <div class="col-xs-6">
                <input type="text" name="amount" minlength="1" maxlength="50" placeholder="Receiver" [(ngModel)]="transaction.amount" #amount="ngModel" required />

                <div class="md-errors-spacer" *ngIf="amount.invalid && (amount.touched || f.submited)">
                    <small class="md-errors-spacer" *ngIf="amount.errors.required">
                        Amount is required.
                    </small>
                    <div class="md-errors-spacer" *ngIf="amount == 0">
                        Amount not 0!!!.
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-6">
                <p class="boldLables text-right">Your password (passphrase):</p>
            </div>
            <div class="col-xs-6">
                <input type="password" name="password" minlength="4" maxlength="15" placeholder="Password" [(ngModel)]="transaction.password" #password="ngModel" required />

                <div class="md-errors-spacer" *ngIf="password.invalid && (password.touched || f.submited)">
                    <small class="md-errors-spacer" *ngIf="password.errors.required">
                        Password is required.
                    </small>
                    <div class="md-errors-spacer" *ngIf="password.errors.minlength">
                        Password is min. 4 char. long!.
                    </div>
                </div>
            </div>
        </div>

        <button type="button" [disabled]="!f.valid" class="btn btn-primary center-block" (click)="initTransaction()">Init</button>
    </div>
</form>
<div class="bigDataBlock">
    <h2>Confirmed transactions</h2>
    <div class="block">
        <table *ngIf="transactions.length>0" align="center" border="1" cellpadding="0" cellspacing="0">
            <tr id="headers">
                <th>Sender</th>
                <th>Receiver</th>
                <th>Ether amount</th>
                <th>Status</th>
            </tr>
            <tr id="transactions" *ngFor="let transaction of transactions">
                <td>{{ transaction.sender }}</td>
                <td>{{ transaction.receiver }}</td>
                <td>{{ transaction.amount }}</td>
                <td>
                    <span style="color:green" *ngIf="transaction.confirmed === true">Confirmed</span>
                    <span style="color:red" *ngIf="transaction.confirmed === false">Not confirmed</span>
                </td>
            </tr>
        </table>
        <span *ngIf="transactions.length === 0">
            Currently you have no confirmed transactions. Please wait!
        </span>
    </div>
</div>

<mat-paginator [length]="length"
               [pageSize]="transactionCount"
               [pageIndex]="currentPage"
               (page)="getMyTransactions($event.pageIndex)">
</mat-paginator>

